//play hecho por =Ofc-Yovani
import _0x33dbd4 from'node-fetch';import _0x45c087 from'axios';import _0x5d5396 from'yt-search';import{youtubedl,youtubedlv2}from'@bochilteam/scraper';import _0x3d3650 from'ytdl-core';import{bestFormat,getUrlDl}from'../lib/y2dl.js';import _0x52f19f from'../lib/ytdll.js';import _0x43801f from'fs';let limit1=0x64,limit2=0x190,limit_a1=0x32,limit_a2=0x190;const handler=async(_0x17099f,{conn:_0x44a4d9,command:_0x56f118,args:_0x3a07aa,text:_0x146aef,usedPrefix:_0xdcb5c6})=>{let _0x15afba={'key':{'participants':'0@s.whatsapp.net','remoteJid':'status@broadcast','fromMe':![],'id':'Halo'},'message':{'contactMessage':{'vcard':'BEGIN:VCARD\x0aVERSION:3.0\x0aN:Sy;Bot;;;\x0aFN:y\x0aitem1.TEL;waid='+_0x17099f['sender']['split']('@')[0x0]+':'+_0x17099f['sender']['split']('@')[0x0]+'\x0aitem1.X-ABLabel:Ponsel\x0aEND:VCARD'}},'participant':'0@s.whatsapp.net'};if(!_0x146aef)return _0x44a4d9['reply'](_0x17099f['chat'],'*[❗𝐈𝐍𝐅𝐎❗]\x20Ponga\x20el\x20nombre\x20de\x20su\x20video\x20o\x20musica\x20\x20\x0a\x0a\x20*ejemplo:*\x20\x0a\x20*'+(_0xdcb5c6+_0x56f118)+'\x20miku\x20bot\x20md*',_0x15afba,_0x17099f);try{_0x44a4d9['reply'](_0x17099f['chat'],''+wait,_0x15afba,_0x17099f);const _0x3820f2=await search(_0x3a07aa['join']('\x20'));let _0x499890='';if(_0x56f118==='play'||_0x56f118=='audio'||_0x56f118=='play3'||_0x56f118=='playdoc'||_0x56f118=='musica'||_0x56f118=='sonido')_0x499890='audio\x20🔊';else(_0x56f118==='play2'||_0x56f118=='video'||_0x56f118=='play4'||_0x56f118=='playdoc2'||_0x56f118=='peliculas'||_0x56f118=='pelis')&&(_0x499890='video\x20🎥');const _0x3ce5af=(hadesyo+'\x0a•\x20📌\x20*Autor:*\x20'+_0x3820f2[0x0]['author']['name']+'\x0a•\x20📆\x20*Published:*\x20'+_0x3820f2[0x0]['ago']+'\x0a•\x20⌚\x20*Duration:*\x20'+secondString(_0x3820f2[0x0]['duration']['seconds'])+'\x0a•\x20👀\x20*Views:*\x20'+(''+MilesNumber(_0x3820f2[0x0]['views']))+'\x0a•\x20🔗\x20*Link:*\x20'+_0x3820f2[0x0]['url'])['trim']();await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'text':_0x3ce5af,'contextInfo':{'externalAdReply':{'title':_0x3820f2[0x0]['title'],'body':packname,'thumbnailUrl':_0x3820f2[0x0]['thumbnail'],'mediaType':0x1,'showAdAttribution':!![],'renderLargerThumbnail':!![]}}},{'quoted':_0x17099f});if(_0x56f118=='play'||_0x56f118=='audio'||_0x56f118=='musica'||_0x56f118=='sonido'){const _0x5e8cbc='128kbps',_0x423116=_0x3820f2[0x0]['url'],_0x47b835=await youtubedl(_0x423116)['catch'](async _0x12da74=>await youtubedlv2(_0x423116)),_0x15c02c=await _0x47b835['audio'][_0x5e8cbc]['download'](),_0x50af16=await _0x47b835['title'],_0x105e32=await _0x47b835?.['size'],_0x4ebf30=_0x105e32?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x5b6bb0=await getBuffer(_0x15c02c),_0x302119=_0x5b6bb0['byteLength'],_0x83055e=_0x302119/0x400,_0x505ad0=_0x83055e/0x400,_0x2b8a61=_0x505ad0['toFixed'](0x2);if(_0x2b8a61>=limit_a2)return;if(_0x2b8a61>=limit_a1&&_0x2b8a61<=limit_a2){await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x5b6bb0,'mimetype':'audio/mpeg','fileName':_0x50af16+'.mp3'},{'quoted':_0x17099f});return;}else{await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'audio':_0x5b6bb0,'mimetype':'audio/mpeg','fileName':_0x50af16+'.mp3'},{'quoted':_0x17099f});return;}}if(_0x56f118=='play3'||_0x56f118=='playdoc'){const _0x156825='128kbps',_0x2672d8=_0x3820f2[0x0]['url'],_0x4b3261=await youtubedl(_0x2672d8)['catch'](async _0x5d19fe=>await youtubedlv2(_0x2672d8)),_0x4e56d2=await _0x4b3261['audio'][_0x156825]['download'](),_0x1b3aff=await _0x4b3261['title'],_0x6bd272=await _0x4b3261?.['size'],_0x3d3cff=_0x6bd272?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x356a78=await getBuffer(_0x4e56d2),_0x5e9fb3=_0x356a78['byteLength'],_0xb28493=_0x5e9fb3/0x400,_0x430841=_0xb28493/0x400,_0x16843a=_0x430841['toFixed'](0x2);if(_0x16843a>=limit_a2)return;if(_0x16843a>=limit_a1&&_0x16843a<=limit_a2){await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x356a78,'mimetype':'audio/mpeg','fileName':_0x1b3aff+'.mp3'},{'quoted':_0x17099f});return;}else{await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x356a78,'mimetype':'audio/mpeg','fileName':_0x1b3aff+'.mp3'},{'quoted':_0x17099f});return;}}if(_0x56f118=='play2'||_0x56f118=='video'){const _0x4e2318='360',_0x3a15f6=_0x4e2318+'p',_0x2745ed=_0x3820f2[0x0]['url'],_0x52b847=await youtubedl(_0x2745ed)['catch'](async _0x54ac5b=>await youtubedlv2(_0x2745ed)),_0x4f8dbb=await _0x52b847['video'][_0x3a15f6]['download'](),_0x57a5b7=await _0x52b847['title'],_0x4fe1fc=await _0x52b847?.['size'],_0x2486e4=_0x4fe1fc?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x32e9b1=await getBuffer(_0x4f8dbb),_0x5717a8=_0x32e9b1['byteLength'],_0x1a471d=_0x5717a8/0x400,_0x5cbc57=_0x1a471d/0x400,_0x20c335=_0x5cbc57['toFixed'](0x2);if(_0x20c335>=limit2)return;if(_0x20c335>=limit1&&_0x20c335<=limit2){await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x32e9b1,'mimetype':'video/mp4','fileName':_0x57a5b7+'.mp4'},{'quoted':_0x17099f});return;}else{await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'video':_0x32e9b1,'mimetype':'video/mp4','fileName':_0x57a5b7+'.mp4'},{'quoted':_0x17099f});return;}}if(_0x56f118=='play4'||_0x56f118=='playdoc2'||_0x56f118=='peliculas'||_0x56f118=='pelis'){const _0x4cf592='360',_0x47b13a=_0x4cf592+'p',_0x25e820=_0x3820f2[0x0]['url'],_0x420e80=await youtubedl(_0x25e820)['catch'](async _0x211388=>await youtubedlv2(_0x25e820)),_0x46f97b=await _0x420e80['video'][_0x47b13a]['download'](),_0x382a95=await _0x420e80['title'],_0x36d324=await _0x420e80?.['size'],_0x495672=_0x36d324?.['replace']('MB','')?.['replace']('GB','')?.['replace']('KB',''),_0x302035=await getBuffer(_0x46f97b),_0x4bc6f1=_0x302035['byteLength'],_0xac2102=_0x4bc6f1/0x400,_0x22cb85=_0xac2102/0x400,_0x328846=_0x22cb85['toFixed'](0x2);if(_0x328846>=limit2)return;if(_0x328846>=limit1&&_0x328846<=limit2){await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x302035,'mimetype':'video/mp4','fileName':_0x382a95+'.mp4'},{'quoted':_0x17099f});return;}else{await _0x44a4d9['sendMessage'](_0x17099f['chat'],{'document':_0x302035,'mimetype':'video/mp4','fileName':_0x382a95+'.mp4'},{'quoted':_0x17099f});return;}}}catch(_0x91cdb6){console['log'](_0x91cdb6);throw'*❌ʟᴏ\x20sᴇɴᴛɪᴍᴏs\x20sᴇ\x20ʜᴀ\x20ɢᴇɴᴇʀᴀᴅᴏ\x20ᴜɴ\x20ᴇʀʀᴏʀ\x20ᴠᴜᴇʟᴠᴇ\x20ɪɴᴛᴇɴᴛᴀʀ❌*';}};handler['help']=['play','play2']['map'](_0x58f6a4=>_0x58f6a4+'\x20<\x20busqueda\x20>'),handler['help']=['pla3','play4']['map'](_0x5c18ae=>_0x5c18ae+'\x20<\x20busqueda\x20>'),handler['tags']=['downloader'],handler['command']=/^(play|play2|play3|play4|audio|video|playdoc2|playdoc|musica|sonido|peliculas|pelis)$/i;export default handler;async function search(_0x2d62a8,_0x51018a={}){const _0x299622=await _0x5d5396['search']({'query':_0x2d62a8,'hl':'es','gl':'ES',..._0x51018a});return _0x299622['videos'];}function MilesNumber(_0x1bea1d){const _0x35b30c=/(\d)(?=(\d{3})+(?!\d))/g,_0x55cced='$1.',_0x5c4235=_0x1bea1d['toString']()['split']('.');return _0x5c4235[0x0]=_0x5c4235[0x0]['replace'](_0x35b30c,_0x55cced),_0x5c4235[0x1]?_0x5c4235['join']('.'):_0x5c4235[0x0];}function secondString(_0x552049){_0x552049=Number(_0x552049);const _0x4e196c=Math['floor'](_0x552049/(0xe10*0x18)),_0x113727=Math['floor'](_0x552049%(0xe10*0x18)/0xe10),_0x4edc2c=Math['floor'](_0x552049%0xe10/0x3c),_0x5f0944=Math['floor'](_0x552049%0x3c),_0xc9422d=_0x4e196c>0x0?_0x4e196c+(_0x4e196c==0x1?'\x20día,\x20':'\x20días,\x20'):'',_0x57e972=_0x113727>0x0?_0x113727+(_0x113727==0x1?'\x20hora,\x20':'\x20horas,\x20'):'',_0x6d396=_0x4edc2c>0x0?_0x4edc2c+(_0x4edc2c==0x1?'\x20minuto,\x20':'\x20minutos,\x20'):'',_0x48cafb=_0x5f0944>0x0?_0x5f0944+(_0x5f0944==0x1?'\x20segundo':'\x20segundos'):'';return _0xc9422d+_0x57e972+_0x6d396+_0x48cafb;}function bytesToSize(_0x555201){return new Promise((_0x515ff6,_0x5e5242)=>{const _0x3e102f=['Bytes','KB','MB','GB','TB'];if(_0x555201===0x0)return'n/a';const _0x32a365=parseInt(Math['floor'](Math['log'](_0x555201)/Math['log'](0x400)),0xa);if(_0x32a365===0x0)_0x515ff6(_0x555201+'\x20'+_0x3e102f[_0x32a365]);_0x515ff6((_0x555201/0x400**_0x32a365)['toFixed'](0x1)+'\x20'+_0x3e102f[_0x32a365]);});}const getBuffer=async(_0x11325d,_0x3d9dc0)=>{_0x3d9dc0?_0x3d9dc0:{};const _0x1d7195=await _0x45c087({'method':'get','url':_0x11325d,'headers':{'DNT':0x1,'Upgrade-Insecure-Request':0x1},..._0x3d9dc0,'responseType':'arraybuffer'});return _0x1d7195['data'];};
